<nav class="navbar navbar-expand-lg navbar-light bg-light bg-faded fixed-top mb-0">

    <!-- Brand -->
    <a class="navbar-brand logo mt-2 mb-2" [ngClass]="country" [routerLink]="['/']"></a>

    <!--&lt;!&ndash; Hamburger &ndash;&gt;-->
    <!--<button class="navbar-toggler navbar-toggler-right" type="button" (click)="toggleNavbar()"-->
            <!--[attr.aria-expanded]="!navbarCollapsed" aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">-->
        <!--<span class="navbar-toggler-icon"></span>-->
    <!--</button>-->
    <button class="navbar-toggler" type="button" (click)="isCollapsed = !isCollapsed" [attr.aria-expanded]="!isCollapsed" aria-controls="navbarContent">
      <span class="navbar-toggler-icon"></span>
    </button>
    
    <!-- Navbar content -->
    <div class="collapse navbar-collapse" id="navbarContent" [ngSwitch]="isAuthenticated()" [collapse]="isCollapsed">

        <!--Left side-->
        <ul class="navbar-nav mr-auto">
          <ng-container *ngIf="navbarMenu">
            <app-dropdown-navbar *ngFor="let menu of navbarMenu.menus" [active]="menu.isActive()"
                                 [dropdownTitle]="menu.name" [fa]="menu.icon" [path]="menu.path">
              <div *ngIf="menu.items">                   
                <div *ngFor="let item of menu.items">
                  <a *ngIf="item.active" class="dropdown-item" [routerLink]="[item.path]" >
                    <div class="menuitem_icon"><i *ngIf="item.icon" class="fa fa-{{ item.icon }}" aria-hidden="true"></i></div>
                    {{ item.label | translate}}
                  </a>
                </div>
              </div>
            </app-dropdown-navbar>
          </ng-container>
          <form class="form-inline pl-1" [formGroup]="searchForm" (ngSubmit)="onSubmit(searchForm.value)">
              <div class="input-group">
                <input class="form-control col-md-6 col-sm-12 col-xl-12" formControlName="callCode" type="search" placeholder="Search">
                <div class="input-group-append">
                    <button class="btn text-primary border" type="submit">
                      <i class="fa fa-search" aria-hidden="true"></i>
                    </button>
                </div>    
              </div>
          </form>

          <i *ngIf="spinner" class="fa fa-spinner fa-spin fa-2x fa-fw" [ngStyle]="{'color': 'white'}"></i>
        </ul>

        <!-- Right side -->
        <ul class="navbar-nav">
            <li class="nav-item"> 
              <a class="nav-link" (click)="language(country, true)">
                <span class="flag-icon" [ngClass]="flagIconCountry"></span><span class="pl-1">{{country | uppercase}}</span>
              </a> 
            </li> 
            <li *ngSwitchCase="false" class="nav-item d-flex align-items-center">
                <a class="btn btn-outline-primary"
                  #rla="routerLinkActive"
                  [routerLink]="['auth/signin']"
                  routerLinkActive="active">
                  <i class="fa fa-fw fa-user"></i> {{'signin.title' | translate}}
                </a>
            </li> 
            <div *ngSwitchCase="true">
              <app-dropdown-navbar dropdownTitle="Account" rightAlignment="true" [user]="user" [fa]="'user'">
                  <li *ngSwitchCase="true">
                      <a class="dropdown-item dropdown-item-navbar"
                         [routerLink]="['/anagrafica/delega']">Deleghe</a>
                  </li>
                  <li *ngSwitchCase="true">
                      <a class="dropdown-item dropdown-item-navbar"
                         (click)="onLogout()">Logout</a>
                  </li>
              </app-dropdown-navbar>
            </div>
        </ul>
    </div>
</nav>
<simple-notifications [options]="notificationOptions"></simple-notifications>